<!DOCTYPE html>
<html lang="or">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS - Notebook & Automation Cloud</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root {
            --primary: #0f172a;
            --accent: #38bdf8;
            --paper: #ffffff;
            --success: #10b981;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            height: 100vh;
            background: #f1f5f9;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--primary);
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
            box-shadow: 4px 0 15px rgba(0,0,0,0.3);
        }

        .sidebar h2 { color: var(--accent); font-size: 18px; text-align: center; border-bottom: 1px solid #334155; padding-bottom: 10px; }

        .nav-tabs { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; }

        .tab-btn {
            padding: 12px;
            background: #1e293b;
            color: #94a3b8;
            border: 1px solid #334155;
            cursor: pointer;
            border-radius: 8px;
            text-align: left;
            font-weight: bold;
            transition: 0.3s;
        }

        .tab-btn.active { background: var(--accent); color: var(--primary); }

        /* Main Content */
        .main-content { flex-grow: 1; padding: 25px; overflow-y: auto; display: flex; flex-direction: column; align-items: center; }

        /* Notebook Style */
        .notebook-page {
            width: 100%;
            max-width: 850px;
            background: var(--paper);
            min-height: 1200px;
            padding: 50px;
            box-shadow: 0 4px 25px rgba(0,0,0,0.1);
            outline: none;
            display: none;
            font-size: 18px;
            line-height: 1.8;
        }

        .notebook-page.active { display: block; }

        /* Instrumentation & Ohm's Law */
        .tool-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            width: 100%;
            max-width: 850px;
        }

        .calc-input {
            padding: 10px;
            margin: 5px;
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            width: 80px;
        }

        .db-status {
            font-size: 12px;
            padding: 5px 10px;
            border-radius: 20px;
            background: #334155;
            color: #94a3b8;
        }

        .floating-save {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--success);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
    </style>
</head>
<body>

<div class="sidebar">
    <h2>AMS SOLUTIONS</h2>
    <div class="db-status" id="cloudStatus">‚òÅÔ∏è Database: Local Mode</div>
    
    <div class="nav-tabs">
        <button class="tab-btn active" onclick="showPage('notebook-page', this)">üìù Engineering Notebook</button>
        <button class="tab-btn" onclick="showPage('instrument-page', this)">üõ† Ohm's Law & Tools</button>
    </div>

    <div style="margin-top: 30px;">
        <h4 style="font-size: 12px; color: var(--accent);">PROJECT CALENDAR</h4>
        <input type="date" id="pDate" style="width:100%; padding:8px; border-radius:5px; border:none;">
    </div>
</div>

<div class="main-content">
    <div id="notebook-page" class="notebook-page active" contenteditable="true">
        <h1 style="text-align: center;">Lab Notebook</h1>
        <hr>
        <p>Barreeffama kee asirratti jalqabi...</p>
    </div>

    <div id="instrument-page" class="notebook-page">
        <h1>Instrumentation Hub</h1>
        <hr>
        
        <div class="tool-card">
            <h3>üìê Ohm's Law Calculator ($V = I \times R$)</h3>
            
            <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap; margin-top: 15px;">
                <label>V (Volt):</label> <input type="number" id="volt" class="calc-input" oninput="calcOhms('V')">
                <label>I (Amp):</label> <input type="number" id="amp" class="calc-input" oninput="calcOhms('I')">
                <label>R (Ohm):</label> <input type="number" id="res" class="calc-input" oninput="calcOhms('R')">
                <button onclick="clearCalc()" style="padding: 5px 10px;">Clear</button>
            </div>
            <p id="calcResult" style="color: var(--success); font-weight: bold; margin-top: 10px;"></p>
        </div>

        <div class="tool-card">
            <h3>üß© Industrial Components</h3>
            <p>PLC: S7-1200 <br> Status: Connected</p>
        </div>
    </div>
</div>

<button class="floating-save" onclick="saveToCloud()">üíæ SAVE TO DATABASE</button>

<script>
    // PAGE NAVIGATION
    function showPage(pageId, btn) {
        document.querySelectorAll('.notebook-page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        btn.classList.add('active');
    }

    // OHM'S LAW LOGIC
    function calcOhms(lastChanged) {
        let v = parseFloat(document.getElementById('volt').value);
        let i = parseFloat(document.getElementById('amp').value);
        let r = parseFloat(document.getElementById('res').value);
        let resText = document.getElementById('calcResult');

        if (lastChanged === 'V' && i && r) {
            v = i * r; document.getElementById('volt').value = v.toFixed(2);
        } else if (lastChanged === 'I' && v && r) {
            i = v / r; document.getElementById('amp').value = i.toFixed(2);
        } else if (lastChanged === 'R' && v && i) {
            r = v / i; document.getElementById('res').value = r.toFixed(2);
        }
        resText.innerText = `Result Updated: $$V = I \cdot R$$`;
    }

    function clearCalc() {
        document.getElementById('volt').value = '';
        document.getElementById('amp').value = '';
        document.getElementById('res').value = '';
        document.getElementById('calcResult').innerText = '';
    }

    // DATABASE LOGIC (Local + Cloud Simulation)
    function saveToCloud() {
        const data = document.getElementById('notebook-page').innerHTML;
        // Local Storage (Always works)
        localStorage.setItem('AMS_DB_V3', data);
        
        // Cloud Simulation (Hamma ati Firebase/Supabase connect goottutti)
        document.getElementById('cloudStatus').innerText = "‚òÅÔ∏è Syncing to Cloud...";
        document.getElementById('cloudStatus').style.color = "#10b981";

        setTimeout(() => {
            alert("Ragaan kee Database irratti kuusameera!");
            document.getElementById('cloudStatus').innerText = "‚òÅÔ∏è Database: Synced";
        }, 1500);
    }

    window.onload = () => {
        const saved = localStorage.getItem('AMS_DB_V3');
        if(saved) document.getElementById('notebook-page').innerHTML = saved;
    }
</script>

</body>
</html>

